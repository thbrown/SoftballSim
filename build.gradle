plugins {
  id 'java'
  id 'application'
  id 'com.diffplug.gradle.spotless' version '3.25.0'
}

repositories {
  mavenCentral()
}

dependencies {
  testCompile group: 'junit', name: 'junit', version: '4.12'
  compile group: 'com.google.code.gson', name: 'gson', version: '2.8.5'
  compile group: 'org.apache.commons', name: 'commons-math3', version: '3.6'
  compile group: 'commons-cli', name: 'commons-cli', version: '1.4'
}

run {
  args = ["-O", "MONTE_CARLO_EXHAUSTIVE", "-P", "1OiRCCmrn16iyK,00000000000001,0000000000000f,0000000000000k,1CV6WRyspDjA7Z","1MPJ24EEyS0g6p", "-g", "10000000", "-i", "7"]
}

jar {
  manifest {
    attributes "Main-Class": "com.github.thbrown.softballsim.SoftballSim"
  }
 
  from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
  }
}

sourceSets {
  main {
    java {
      srcDirs = ['src']
    }
  }
  test {
    java {
      srcDirs = ['test']
    }
    resources {
      srcDirs = ['test/resources']
    }
  }
}

spotless {
  java {
  	//removeUnusedImports()
  	eclipse().configFile 'code-format.xml'
  }
}

// Define the main class for the application
mainClassName = 'com.github.thbrown.softballsim.SoftballSim'